<!DOCTYPE html>
<html>
    <head>
        <title>My Experiment</title>
        <script src="jspsych-6.0.4/jspsych.js"></script>
        <script src="jspsych-6.0.4/plugins/jspsych-html-keyboard-response.js"></script>
        <script src="jspsych-boxes.js"></script>
        <script src="jspsych-6.0.4/plugins/jspsych-image-keyboard-response.js"></script>
        <link href="jspsych-6.0.4/css/jspsych.css" rel="stylesheet" type="text/css"></link>
      </head>
      <body></body>
      <script>

      var timeline = [];

      var shape = jsPsych.plugins["boxes"].generateShape(4,4,8)
      // shape = [
      //   [false, false, false, true],
      //   [false, false, true, false],
      //   [false, false, true, false],
      //   [false, true, false, false]
      // ]

      var box_trial_1 = {
          type: 'boxes',
          grid_rows: 4,
          grid_cols: 4,
          filled_in_reference: shape,
          both_new: true,
          square_size: 50,
          rotation_reference: 0,
          filled_in_target: jsPsych.plugins["boxes"].reflectShape(shape),
          rotation_target: 0,
          correct_match: 'n',
      };
      timeline.push(box_trial_1);

      //var shape = create_shape(4,4,10);
      //var reflected_shape = reflect(shape);

      var box_trial_2 = {
          type: 'boxes',
          grid_rows: 4,
          grid_cols: 4,
          filled_in_reference: [
            [false, false, false, true],
            [false, false, true, false],
            [false, false, true, false],
            [false, true, false, false]
          ],
          both_new: false,
          square_size: 50,
          rotation_reference: 0,
          filled_in_target: [
            [false, false, false, true],
            [false, false, true, false],
            [false, false, true, false],
            [false, true, false, false]
          ],
          rotation_target: 0,
          correct_match: 'y',
        };
        timeline.push(box_trial_2);

      jsPsych.init({
        timeline: timeline
      });
      </script>
</html>
